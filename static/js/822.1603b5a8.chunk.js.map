{"version":3,"file":"static/js/822.1603b5a8.chunk.js","mappings":"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","sources":["components/Modules/TrendingMovies/TrendingMovies.jsx","webpack://goit-react-hw-05-movies/./src/components/pages/MoviesPage/moviesPage.module.css?9c7a","components/Modules/MoviesSearch/MoviesSearchForm/MoviesSearchForm.jsx","components/Modules/MoviesSearch/MoviesSearch.jsx","components/pages/MoviesPage/MoviesPage.jsx","components/shared/Fetch/fetch.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst TrendingMovies = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, title, original_name }) => (\n    <li key={id}>\n      {title && (\n        <Link state={{ from: location }} to={`/movies/${id}`}>\n          {title}\n        </Link>\n      )}\n      {!title && (\n        <Link state={{ from: location }} to={`/movies/${id}`}>\n          {original_name}\n        </Link>\n      )}\n    </li>\n  ));\n\n  return <>{Boolean(items.length) && <ul>{elements}</ul>}</>;\n};\n\nexport default TrendingMovies;\n\nTrendingMovies.defaultProps = {\n  items: [],\n};\n\nTrendingMovies.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      original_name: PropTypes.string,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesPage\":\"moviesPage_moviesPage__Gxp5U\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nconst MoviesSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    query: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit({ ...state });\n    setState({ query: '' });\n  };\n\n  return (\n    <>\n      <form action=\"\" onSubmit={handleSubmit}>\n        <input\n          value={state.query}\n          name=\"query\"\n          onChange={handleChange}\n          type=\"text\"\n          placeholder=\"Movie\"\n        />\n        <button>Search</button>\n      </form>\n    </>\n  );\n};\n\nexport default MoviesSearchForm;\n\nMoviesSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import MoviesSearchForm from './MoviesSearchForm';\nimport { useState, useEffect } from 'react';\nimport { getMovie } from 'components/shared/Fetch/fetch';\nimport { useSearchParams } from 'react-router-dom';\nimport TrendingMovies from '../TrendingMovies';\n\nconst MoviesSearch = () => {\n  const [movies, setMovies] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n  const [searchParams, setSearchParams] = useSearchParams();\n  const onSubmit = ({ query }) => setSearchParams({ query });\n  const q = searchParams.get('query');\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      setMovies(prevState => ({ ...prevState, loading: true }));\n      try {\n        const result = await getMovie(q);\n        setMovies(prevState => ({\n          ...prevState,\n          loading: false,\n          items: result.results,\n        }));\n      } catch (error) {\n        setMovies(prevState => ({\n          ...prevState,\n          loading: false,\n          error: error.message,\n        }));\n      }\n    };\n    if (q) {\n      searchMovies();\n    }\n  }, [q]);\n\n  const { items, loading, error } = movies;\n\n  return (\n    <>\n      <MoviesSearchForm onSubmit={onSubmit} />\n      <TrendingMovies items={items} />\n      {loading && <p>Loading...</p>}\n      {error && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default MoviesSearch;\n","import styles from './moviesPage.module.css';\nimport MoviesSearch from 'components/Modules/MoviesSearch';\n\nconst MoviesPage = () => {\n  return (\n    <div className={styles.moviesPage}>\n      <MoviesSearch />\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '472eb9c3f2ac1bf77bbb6771cd09c0a8',\n  },\n});\n\nexport const getTrending = async () => {\n  const { data } = await instance.get('/trending/all/day');\n  return data;\n};\n\nexport const getMovieById = async id => {\n  const { data } = await instance.get(`movie/${id}`);\n\n  return data;\n};\n\nexport const getMovie = async query => {\n  const { data } = await instance.get(`search/movie/`, {\n    params: {\n      query,\n    },\n  });\n\n  return data;\n};\n\nexport const getCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n\n  return data;\n};\n\nexport const getReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n\n  return data;\n};\n"],"names":["TrendingMovies","items","location","useLocation","elements","map","id","title","original_name","state","from","to","Boolean","length","defaultProps","onSubmit","useState","query","setState","action","event","preventDefault","value","name","onChange","target","prevState","type","placeholder","loading","error","movies","setMovies","useSearchParams","searchParams","setSearchParams","q","get","useEffect","searchMovies","getMovie","result","results","message","className","styles","instance","axios","baseURL","params","api_key","getTrending","data","getMovieById","getCast","getReviews"],"sourceRoot":""}