"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[549],{7166:function(n,r,e){e.d(r,{Z:function(){return i}});var t=e(501),u=e(6871),a=e(184),c=function(n){var r=n.items,e=(0,u.TH)(),c=r.map((function(n){var r=n.id,u=n.title,c=n.original_name;return(0,a.jsx)("li",{children:(0,a.jsx)(t.rU,{state:{from:e},to:"/movies/".concat(r),children:u||c})},r)}));return(0,a.jsx)(a.Fragment,{children:Boolean(r.length)&&(0,a.jsx)("ul",{children:c})})},i=c;c.defaultProps={items:[]}},6846:function(n,r,e){e.d(r,{HI:function(){return f},Hg:function(){return o},IQ:function(){return p},Jh:function(){return v},Pg:function(){return s}});var t=e(5861),u=e(7757),a=e.n(u),c=e(4569),i=e.n(c)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"472eb9c3f2ac1bf77bbb6771cd09c0a8"}}),o=function(){var n=(0,t.Z)(a().mark((function n(){var r,e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("/trending/all/day");case 2:return r=n.sent,e=r.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("movie/".concat(r));case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("search/movie/",{params:{query:r}});case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("/movie/".concat(r,"/credits"));case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),v=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("/movie/".concat(r,"/reviews"));case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()},3549:function(n,r,e){e.r(r),e.d(r,{default:function(){return x}});var t="moviesPage_moviesPage__oFuxn",u=e(1413),a=e(5861),c=e(885),i=e(7757),o=e.n(i),s=e(4942),f=e(2791),p=e(184),v=function(n){var r=n.onSubmit,e=(0,f.useState)({query:""}),t=(0,c.Z)(e,2),a=t[0],i=t[1];return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{action:"",onSubmit:function(n){n.preventDefault(),r((0,u.Z)({},a)),i({query:""})},children:[(0,p.jsx)("input",{value:a.query,name:"query",onChange:function(n){var r=n.target,e=r.name,t=r.value;i((function(n){return(0,u.Z)((0,u.Z)({},n),{},(0,s.Z)({},e,t))}))},type:"text",placeholder:"Movie"}),(0,p.jsx)("button",{children:"Search"})]})})},l=e(6846),d=e(501),m=e(7166),h=function(){var n=(0,f.useState)({items:[],loading:!1,error:null}),r=(0,c.Z)(n,2),e=r[0],t=r[1],i=(0,d.lr)(),s=(0,c.Z)(i,2),h=s[0],x=s[1],g=h.get("query");(0,f.useEffect)((function(){var n=function(){var n=(0,a.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((function(n){return(0,u.Z)((0,u.Z)({},n),{},{loading:!0})})),n.prev=1,n.next=4,(0,l.HI)(g);case 4:r=n.sent,t((function(n){return(0,u.Z)((0,u.Z)({},n),{},{loading:!1,items:r.results})})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t((function(r){return(0,u.Z)((0,u.Z)({},r),{},{loading:!1,error:n.t0.message})}));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();g&&n()}),[g]);var Z=e.items,b=e.loading,w=e.error;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{onSubmit:function(n){var r=n.query;return x({query:r})}}),(0,p.jsx)(m.Z,{items:Z}),b&&(0,p.jsx)("p",{children:"Loading..."}),w&&(0,p.jsx)("p",{children:w})]})},x=function(){return(0,p.jsx)("div",{className:t,children:(0,p.jsx)(h,{})})}}}]);
//# sourceMappingURL=549.868a90cd.chunk.js.map